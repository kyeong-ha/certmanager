from dataclasses import dataclass, field
from typing import Dict


@dataclass
class LicenseRegistry:
    """자격과정 → 등록번호(부처 포함) 매핑 전역 싱글턴."""
    _table: Dict[str, str] = field(default_factory=dict)

    def register(self, course: str, reg_num: str, ministry: str):
        self._table[course.strip()] = f"제{reg_num}({ministry})"

    def get(self, course: str) -> str | None:
        return self._table.get(course.strip())


# ── 전역 인스턴스 ────────────────────────────────────────────
LICENSES = LicenseRegistry()

# 초기 데이터 등록
_data = [
    ("병원동행매니저", "2023-005724", "보건복지부"),
    ("생활지원사", "2023-004289", "보건복지부"),
    ("인지활동지도사", "2025-000757", "문화체육관광부"),
    ("노인돌봄지도사", "2024-002663", "보건복지부"),
    ("웰다잉지도사", "2025-001373", "고용노동부"),
    ("노인심리상담사", "2024-002006", "보건복지부"),
    ("시니어생활돌봄지도사", "2024-002662", "보건복지부"),
    ("병원코디네이터", "2023-004288", "보건복지부"),
    ("가사관리전문가", "2024-004109", "고용노동부"),
    ("케어코디지도사", "2024-003896", "보건복지부"),
    ("정리수납전문가", "2024-004779", "산업통상자원부"),
    ("반려동물관리사", "2023-004285", "농림축산식품부"),
    ("바리스타", "2023-004287", "농림축산식품부"),
    ("동화구연지도사", "2023-004281", "교육부"),
    ("초등돌봄지도사", "2023-004282", "교육부"),
    ("독서지도사", "2023-004283", "교육부"),
    ("타로심리상담사", "2023-004430", "문화체육관광부"),
    ("유튜브크리에이터", "2024-005383", "과학기술정보통신부"),
    ("반려동물장례지도사", "2024-005384", "농림축산식품부"),
    ("디지털튜터", "2024-005385", "과학기술정보통신부"),
    ("가정관리사", "2024-006090", "고용노동부"),
    ("아동돌봄매니저", "2024-005743", "교육부"),
    ("실버인지지도사", "2025-000752", "문화체육관광부"),
]

for c, n, m in _data:
    LICENSES.register(c, n, m)
